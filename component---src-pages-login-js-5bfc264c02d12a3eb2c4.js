(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"7aZI":function(e,a,t){"use strict";var n=t("q1tI");a.a=function(e,a){var t=Object(n.useState)({}),r=t[0],l=t[1],s=Object(n.useState)({}),o=s[0],i=s[1],c=Object(n.useState)(!1),u=c[0],d=c[1];Object(n.useEffect)((function(){0===Object.keys(o).length&&u&&e()}),[o]);return{handleChange:function(e){e.persist(),l((function(a){var t;return Object.assign({},a,((t={})[e.target.name]=e.target.value,t))}))},handleSubmit:function(e){e&&e.preventDefault(),d(!0),i(a(r))},values:r,errors:o}}},SGa5:function(e,a,t){"use strict";t.r(a);var n=t("q1tI"),r=t.n(n),l=t("Wbzz"),s=t("TbSc"),o=t("aQu0"),i=t("vFsZ"),c=t("3mGJ"),u=t("umxb"),d=t("QetY"),m=t("wtQ5"),p=(t("LUOC"),t("3wGT")),b=t("Zttt"),f=t("7aZI"),g=t("y6RJ"),h=(a.default=function(e){var a=e.location,t=Object(n.useState)(!1),E=t[0],w=t[1],v=Object(n.useState)([]),y=v[0],O=v[1],S=Object(n.useContext)(p.a),j=(S.token,S.updateToken),k=S.user,C=S.setUser;Object(n.useEffect)((function(){k&&Object(l.navigate)("/myaccount")}),[k]);var F=Object(f.a)((function(){var e,a;w(!0),(e=J.email,a=J.password,g.a.auth().signInWithEmailAndPassword(e,a)).then((function(e){C(e),j(JSON.parse(JSON.stringify(e)).user.stsTokenManager.refreshToken),Object(l.navigate)("/myaccount/")})).catch((function(e){console.log(e),w(!1),O(e.errors||e)}))}),h),J=F.values,I=F.handleChange,T=F.handleSubmit,q=F.errors;return r.a.createElement(b.a,{location:a},r.a.createElement("div",{style:{padding:"100px"}},r.a.createElement(m.a,{title:"Login"}),r.a.createElement(o.a,{as:"h1"},"Log in to your account"),r.a.createElement(i.a,{onSubmit:T,loading:E,error:0!==y.length||0!==Object.entries(q).length},0!==y.length?function(e){return!Array.isArray(e)&&!e.length>0?r.a.createElement(s.a,{error:!0,header:"Sorry",content:"Please check your login details and try again."}):e.map((function(e){return r.a.createElement(s.a,{error:!0,header:e.title,content:e.detail,key:e.status})}))}(q):null,r.a.createElement(c.a,null,r.a.createElement(i.a.Field,null,r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement(u.a,{id:"email",fluid:!0,name:"email",type:"email",autoFocus:!0,onChange:I,value:J.email||""})),q.email&&r.a.createElement("p",{"data-testid":"error",style:{color:"red"}},q.email),r.a.createElement(i.a.Field,null,r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement(u.a,{id:"password",fluid:!0,name:"password",type:"password",value:J.password||"",onChange:I})),q.password&&r.a.createElement("p",{style:{color:"red"}},q.password),r.a.createElement(d.a,{type:"submit",color:"#4b00a1"},"Login")))))},function(e){var a={};return e.email?/\S+@\S+\.\S+/.test(e.email)||(a.email="Email address is invalid"):a.email="Email address is required",e.password||(a.password="Password is required"),a})}}]);
//# sourceMappingURL=component---src-pages-login-js-5bfc264c02d12a3eb2c4.js.map