(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"7aZI":function(e,a,t){"use strict";var r=t("q1tI");a.a=function(e,a){var t=Object(r.useState)({}),n=t[0],l=t[1],s=Object(r.useState)({}),o=s[0],c=s[1],i=Object(r.useState)(!1),u=i[0],m=i[1];Object(r.useEffect)((function(){0===Object.keys(o).length&&u&&e()}),[o]);return{handleChange:function(e){e.persist(),l((function(a){var t;return Object.assign({},a,((t={})[e.target.name]=e.target.value,t))}))},handleSubmit:function(e){e&&e.preventDefault(),m(!0),c(a(n))},values:n,errors:o}}},aSaP:function(e,a,t){"use strict";t.r(a);var r=t("q1tI"),n=t.n(r),l=t("Wbzz"),s=t("TbSc"),o=t("aQu0"),c=t("vFsZ"),i=t("3mGJ"),u=t("umxb"),m=t("QetY"),d=t("wtQ5"),b=t("3wGT"),p=(t("LUOC"),t("Zttt")),h=t("7aZI"),E=t("y6RJ");a.default=function(e){var a=e.location,t=Object(r.useState)(!1),g=t[0],w=t[1],S=Object(r.useState)([]),v=S[0],O=S[1],j=Object(r.useContext)(b.a).updateToken,y=Object(r.useState)(""),C=(y[0],y[1],Object(r.useState)("")),k=(C[0],C[1],Object(r.useState)("")),F=(k[0],k[1],Object(r.useState)("")),I=(F[0],F[1],Object(r.useState)("")),T=(I[0],I[1],Object(h.a)((function(){w(!0),E.a.auth().createUserWithEmailAndPassword(q.email,q.password).then((function(e){return console.log(e.user.refreshToken),localStorage.setItem("customerToken",e.user.refreshToken),localStorage.setItem("mcustomer",e.user.uid),j(),Object(l.navigate)("/myaccount/"),e.user.updateProfile({displayName:q.name})})).catch((function(e){console.log(e),console.log(e),w(!1),O(e.errors||e)}))}),f)),q=T.values,P=T.handleChange,A=T.handleSubmit,J=T.errors;return n.a.createElement(p.a,{location:a},n.a.createElement("div",{style:{padding:"100px"}},n.a.createElement(d.a,{title:"Register"}),n.a.createElement(o.a,{as:"h1"},"Create an account"),n.a.createElement(c.a,{onSubmit:A,loading:g,error:!!J},0!==v.length?function(e){return!Array.isArray(e)&&!e.length>0?n.a.createElement(s.a,{error:!0,header:"Sorry",content:"Cannot register at this time."}):e.map((function(e){return n.a.createElement(s.a,{error:!0,header:e.title,content:e.detail,key:e.status})}))}(J):null,n.a.createElement(i.a,null,n.a.createElement(c.a.Field,null,n.a.createElement("label",{htmlFor:"name"},"Name"),n.a.createElement(u.a,{id:"name",fluid:!0,name:"name",autoFocus:!0,onChange:P,value:q.name||""})),J.name&&n.a.createElement("p",{style:{color:"red"}},J.name),n.a.createElement(c.a.Field,null,n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement(u.a,{id:"email",fluid:!0,name:"email",type:"email",onChange:P,value:q.email||""})),J.email&&n.a.createElement("p",{style:{color:"red"}},J.email),n.a.createElement(c.a.Field,null,n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement(u.a,{id:"password",fluid:!0,name:"password",type:"password",onChange:P,value:q.password||""})),J.password&&n.a.createElement("p",{style:{color:"red"}},J.password),n.a.createElement(m.a,{type:"submit",color:"#4b00a1"},"Register")))))};var f=function(e){var a={};return e.email?/\S+@\S+\.\S+/.test(e.email)||(a.email="Email address is invalid"):a.email="Email address is required",e.password||(a.password="Password is required"),e.name||(a.name="A name is required"),a}}}]);
//# sourceMappingURL=component---src-pages-register-js-664d945e6a80d200c394.js.map